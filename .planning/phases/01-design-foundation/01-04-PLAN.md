---
phase: 01-design-foundation
plan: 04
type: execute
wave: 3
depends_on: ["01-01", "01-02", "01-03"]
files_modified:
  - index.html
autonomous: false

must_haves:
  truths:
    - "Page shows off-black background, off-white text, Instrument Serif headings, Inter body -- all from the new token system"
    - "No pure black (#000) or pure white (#FFF) found anywhere in the four new CSS files"
    - "Fluid type scales correctly between 375px and 1440px viewport widths"
    - "Container is centered at 1120px max with correct responsive padding at all three breakpoints"
    - "No trace of glassmorphism, gradient blobs, or old HSL token pattern in the new CSS files"
  artifacts:
    - path: "index.html"
      provides: "Test content for visual verification"
      contains: "class=\"container\""
  key_links:
    - from: "index.html"
      to: "css/tokens.css"
      via: "Visual rendering of tokens"
      pattern: "All token values visible in rendered page"
---

<objective>
Add a temporary test section to index.html that exercises all foundation styles, run automated verification checks, and present the page for visual confirmation.

Purpose: Verify that the entire design foundation (tokens, reset, typography, layout) works correctly together before any subsequent phase builds on it. Catch issues now, not in Phase 4.
Output: Verified design foundation, temporary test content in index.html for visual review
</objective>

<execution_context>
@C:\Users\User\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\User\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-design-foundation/01-RESEARCH.md
@.planning/phases/01-design-foundation/01-01-SUMMARY.md
@.planning/phases/01-design-foundation/01-02-SUMMARY.md
@.planning/phases/01-design-foundation/01-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add temporary test section to index.html</name>
  <files>index.html</files>
  <action>
Add a temporary test section to the top of `<body>` (after the skip link, before the navbar) that exercises all foundation styles. Wrap it in a comment so it's easy to find and remove:

```html
<!-- ===== PHASE 1 TEST SECTION - REMOVE AFTER VERIFICATION ===== -->
<div class="section" id="phase1-test" style="border-bottom: 1px solid var(--color-border);">
  <div class="container stack">
    <span class="mono">Design Foundation Test</span>
    <h1>Hero Heading in Instrument Serif</h1>
    <h2>Section Heading H2</h2>
    <h3>Subsection Heading H3</h3>
    <h4>Card Heading H4</h4>
    <p>Body paragraph in Inter. This text should be off-white (#9B9BA8 muted) on an off-black (#08090E) background. The spacing between elements comes from the stack utility class. No pure black or pure white anywhere.</p>
    <p class="text-lead">Lead paragraph with larger text size for introductory content.</p>
    <p><small>Small text for captions and fine print.</small></p>
    <p class="text-accent">This text uses the AA-safe accent color for body text.</p>
    <div class="flow">
      <span class="mono">Label One</span>
      <span class="mono">Label Two</span>
      <span class="mono">Label Three</span>
    </div>
  </div>
</div>
<!-- ===== END PHASE 1 TEST SECTION ===== -->
```
  </action>
  <verify>grep -c "phase1-test" index.html returns 1</verify>
  <done>Test section present in index.html with all heading levels, body text, lead text, small text, accent text, and flow labels.</done>
</task>

<task type="auto">
  <name>Task 2: Run automated foundation verification checks</name>
  <files>css/tokens.css, css/reset.css, css/typography.css, css/layout.css, index.html</files>
  <action>
Run each of the following 5 checks via bash. All must pass (zero violations). If any check fails, fix the offending file before proceeding to the checkpoint.

**Check 1 -- No pure black/white:**
```bash
grep -rn -E "#000|#FFF|#fff|: white;|: black;|color: white|color: black" css/tokens.css css/reset.css css/typography.css css/layout.css
```
Expected: no output (exit code 1). Any match is a failure.

**Check 2 -- Token completeness:**
Run each of these grep commands against `css/tokens.css`. Each must return at least one match (exit code 0):
```bash
grep -q "\-\-raw-bg-primary" css/tokens.css && echo "PASS: --raw-bg-primary" || echo "FAIL: --raw-bg-primary"
grep -q "\-\-raw-bg-surface" css/tokens.css && echo "PASS: --raw-bg-surface" || echo "FAIL: --raw-bg-surface"
grep -q "\-\-raw-bg-subtle" css/tokens.css && echo "PASS: --raw-bg-subtle" || echo "FAIL: --raw-bg-subtle"
grep -q "\-\-raw-text-primary" css/tokens.css && echo "PASS: --raw-text-primary" || echo "FAIL: --raw-text-primary"
grep -q "\-\-raw-text-secondary" css/tokens.css && echo "PASS: --raw-text-secondary" || echo "FAIL: --raw-text-secondary"
grep -q "\-\-raw-accent" css/tokens.css && echo "PASS: --raw-accent" || echo "FAIL: --raw-accent"
grep -q "\-\-raw-accent-text" css/tokens.css && echo "PASS: --raw-accent-text" || echo "FAIL: --raw-accent-text"
grep -q "\-\-color-page" css/tokens.css && echo "PASS: --color-page" || echo "FAIL: --color-page"
grep -q "\-\-color-surface" css/tokens.css && echo "PASS: --color-surface" || echo "FAIL: --color-surface"
grep -q "\-\-color-text" css/tokens.css && echo "PASS: --color-text" || echo "FAIL: --color-text"
grep -q "\-\-fs-xs" css/tokens.css && echo "PASS: --fs-xs" || echo "FAIL: --fs-xs"
grep -q "\-\-fs-sm" css/tokens.css && echo "PASS: --fs-sm" || echo "FAIL: --fs-sm"
grep -q "\-\-fs-base" css/tokens.css && echo "PASS: --fs-base" || echo "FAIL: --fs-base"
grep -q "\-\-fs-md" css/tokens.css && echo "PASS: --fs-md" || echo "FAIL: --fs-md"
grep -q "\-\-fs-lg" css/tokens.css && echo "PASS: --fs-lg" || echo "FAIL: --fs-lg"
grep -q "\-\-fs-xl" css/tokens.css && echo "PASS: --fs-xl" || echo "FAIL: --fs-xl"
grep -q "\-\-fs-hero" css/tokens.css && echo "PASS: --fs-hero" || echo "FAIL: --fs-hero"
grep -q "\-\-space-1" css/tokens.css && echo "PASS: --space-1" || echo "FAIL: --space-1"
grep -q "\-\-space-24" css/tokens.css && echo "PASS: --space-24" || echo "FAIL: --space-24"
grep -q "\-\-font-heading" css/tokens.css && echo "PASS: --font-heading" || echo "FAIL: --font-heading"
grep -q "\-\-font-body" css/tokens.css && echo "PASS: --font-body" || echo "FAIL: --font-body"
grep -q "\-\-font-mono" css/tokens.css && echo "PASS: --font-mono" || echo "FAIL: --font-mono"
```
Every line must print PASS. Any FAIL is a violation.

**Check 3 -- Reset safety (no old visual cruft):**
```bash
grep -n -E "::before|::after|gradient|backdrop-filter|glass" css/reset.css
```
Expected: no output (exit code 1). Any match is a failure.

**Check 4 -- Cascade order in index.html:**
```bash
grep -n "stylesheet" index.html | grep -E "tokens|reset|typography|layout|main"
```
Verify the line numbers are in ascending order: tokens.css appears first, then reset.css, then typography.css, then layout.css, then main.css.

**Check 5 -- Google Fonts correctness:**
```bash
grep -o "Instrument+Serif" index.html && echo "PASS: Instrument Serif" || echo "FAIL: Instrument Serif missing"
grep -o "Inter" index.html | head -1 && echo "PASS: Inter" || echo "FAIL: Inter missing"
grep -o "JetBrains+Mono" index.html && echo "PASS: JetBrains Mono" || echo "FAIL: JetBrains Mono missing"
grep -c -E "Syne|Manrope|IBM\+Plex\+Mono" index.html | grep -q "^0$" && echo "PASS: no old fonts" || echo "FAIL: old fonts still referenced"
```
Every line must print PASS. Any FAIL is a violation.

Log all results to the console. If any check fails, fix the issue in the offending file before proceeding.
  </action>
  <verify>Re-run all 5 check blocks above. Every check passes with zero failures.</verify>
  <done>All 5 automated checks pass: no pure black/white in CSS files, all required tokens present, reset.css has no old visual cruft, cascade order correct in index.html, correct Google Fonts referenced with no old fonts.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Phase 1 design foundation: tokens.css (three-tier color/spacing/type tokens), reset.css (box model reset, base styles), typography.css (Instrument Serif headings, Inter body, JetBrains Mono labels), layout.css (container, section spacing, breakpoints). All loaded via index.html with new Google Fonts (Instrument Serif + Inter + JetBrains Mono).</what-built>
  <how-to-verify>
1. Open index.html in a browser (or use Live Server in VS Code)
2. The test section at the top should show:
   - Off-black background (NOT blue-black, NOT pure black)
   - "DESIGN FOUNDATION TEST" in JetBrains Mono uppercase with indigo-ish accent color
   - "Hero Heading in Instrument Serif" in a large serif font (NOT Syne, NOT sans-serif)
   - H2, H3, H4 headings progressively smaller, all in same serif font
   - Body paragraph in Inter (sans-serif), slightly muted off-white color
   - Lead paragraph larger than body
   - Small text smaller than body
   - Accent-colored text visible and readable
   - Flow labels in a horizontal row
3. Resize the browser window from ~1440px down to 375px:
   - Heading sizes should shrink fluidly (no abrupt jumps)
   - Container padding should tighten on mobile
   - Content should stay centered and not overflow horizontally
4. Check that NO glassmorphism cards, gradient blobs, or floating shapes are visible
5. If satisfied, type "approved" -- the test section will be removed in Phase 2 setup
6. If issues found, describe them for correction
  </how-to-verify>
  <resume-signal>Type "approved" to confirm the design foundation looks correct, or describe any issues you see.</resume-signal>
</task>

</tasks>

<verification>
Phase 1 is fully verified when:
1. All automated checks pass (pure black/white, tokens, reset safety, cascade, fonts)
2. Human confirms visual correctness in browser at multiple viewport sizes
3. The page feels premium -- correct off-black background, editorial serif headings, clean sans-serif body
</verification>

<success_criteria>
- All five phase success criteria from ROADMAP.md are met:
  1. Page shows correct off-black background, off-white text in Inter, no old glassmorphism
  2. CSS custom properties define all colors, spacing, type sizes -- no magic numbers
  3. Instrument Serif headings and Inter body render at correct fluid sizes 375px-1440px
  4. Container centered at 1120px max with responsive padding across 3 breakpoints
  5. No pure black or pure white anywhere in the stylesheet
</success_criteria>

<output>
After completion, create `.planning/phases/01-design-foundation/01-04-SUMMARY.md`
</output>
