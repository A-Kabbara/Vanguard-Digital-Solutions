---
phase: 01-design-foundation
plan: 03
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - css/layout.css
  - index.html
autonomous: true

must_haves:
  truths:
    - "Container is centered at max 1120px with 24px padding on desktop/tablet and 16px on mobile"
    - "Section elements have ~100px vertical padding on desktop and ~64px on mobile via fluid clamp()"
    - "Three breakpoints are defined and documented: desktop (default), 1024px (tablet), 640px (mobile)"
    - "Spacing scale provides 11 fixed values from 4px to 96px plus 2 fluid section values"
  artifacts:
    - path: "css/layout.css"
      provides: "Container, section spacing, responsive breakpoints"
      contains: ".container"
    - path: "index.html"
      provides: "Layout CSS link tag"
      contains: "css/layout.css"
  key_links:
    - from: "css/layout.css"
      to: "css/tokens.css"
      via: "var() references to spacing tokens"
      pattern: "var\\(--space-"
    - from: "index.html"
      to: "css/layout.css"
      via: "link rel=stylesheet"
      pattern: "href=\"css/layout.css\""
---

<objective>
Create the layout CSS file that establishes the container system, section spacing, and responsive breakpoints for the site.

Purpose: Every section and component needs consistent horizontal containment and vertical rhythm. This layout system ensures the 1120px max-width container, responsive padding, and section spacing are defined once and used everywhere.
Output: css/layout.css, updated index.html with layout.css link
</objective>

<execution_context>
@C:\Users\User\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\User\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-design-foundation/01-RESEARCH.md
@.planning/phases/01-design-foundation/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create css/layout.css with container, section spacing, and breakpoints</name>
  <files>css/layout.css</files>
  <action>
Create `css/layout.css` with the following. All spacing values must reference tokens.

**Top comment block documenting the breakpoint system:**
```css
/* ========================================
   Layout System - Vanguard Digital

   Breakpoints (mobile-first is NOT used; desktop-first):
   - Desktop: default (no media query)
   - Tablet:  max-width: 1024px
   - Mobile:  max-width: 640px

   Container: 1120px max, centered, responsive padding
   ======================================== */
```

**Container:**
```css
.container {
  width: 100%;
  max-width: 1120px;
  margin-inline: auto;
  padding-inline: var(--space-6);  /* 24px */
}
```

**Section spacing (using fluid tokens):**
```css
.section {
  padding-block: var(--space-section);
}

.section-lg {
  padding-block: var(--space-section-lg);
}
```

**Stack utility (vertical rhythm helper):**
```css
.stack > * + * {
  margin-top: var(--space-6);
}

.stack-sm > * + * {
  margin-top: var(--space-4);
}

.stack-lg > * + * {
  margin-top: var(--space-10);
}
```

**Flow utility (horizontal spacing):**
```css
.flow {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.flow-sm {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}
```

**Tablet breakpoint (1024px):**
```css
@media (max-width: 1024px) {
  .container {
    padding-inline: var(--space-6);  /* 24px -- same as desktop */
  }
}
```

**Mobile breakpoint (640px):**
```css
@media (max-width: 640px) {
  .container {
    padding-inline: var(--space-4);  /* 16px -- tighter on mobile */
  }
}
```

**Visually hidden utility (for accessibility -- screen reader only):**
```css
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
```

All spacing values MUST use token references (var(--space-*)). No hardcoded rem/px values except the 1120px max-width (which is a design decision, not a spacing token).
  </action>
  <verify>
1. File exists at css/layout.css
2. .container has `max-width: 1120px` and `margin-inline: auto`
3. .container uses `var(--space-6)` for default padding
4. Mobile breakpoint at 640px reduces padding to `var(--space-4)`
5. .section uses `var(--space-section)` for padding
6. Contains exactly two `@media` queries: one at 1024px and one at 640px
7. No hardcoded spacing values except 1120px max-width
8. Contains .sr-only utility class
  </verify>
  <done>layout.css provides container (1120px centered, responsive padding), section spacing (fluid), stack/flow utilities, three documented breakpoints, and sr-only accessibility utility. All spacing via tokens.</done>
</task>

<task type="auto">
  <name>Task 2: Add css/layout.css link to index.html</name>
  <files>index.html</files>
  <action>
In index.html `<head>`, add a `<link>` tag for layout.css. It must appear AFTER typography.css and BEFORE main.css, so the cascade order is:

```html
<link rel="stylesheet" href="css/tokens.css">
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/typography.css">
<link rel="stylesheet" href="css/layout.css">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/hero.css">
...
```

Insert the layout.css link between typography.css and main.css.
  </action>
  <verify>
1. index.html contains `href="css/layout.css"`
2. layout.css link appears after typography.css link
3. layout.css link appears before main.css link
  </verify>
  <done>index.html loads layout.css in the correct cascade position between typography.css and main.css.</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. Open index.html in browser and inspect `.container` elements -- should show max-width: 1120px
2. Resize to 640px wide -- container padding should reduce to 16px (var(--space-4))
3. Inspect `.section` elements -- should show padding from --space-section clamp()
4. DevTools responsive mode at 375px, 640px, 1024px, 1440px -- container should be properly contained and padded at each
</verification>

<success_criteria>
- Container system provides 1120px centered layout with responsive padding
- Section spacing uses fluid values that scale from ~64px mobile to ~100px desktop
- Three breakpoints documented and implemented
- Stack and flow utilities provide common spacing patterns
- sr-only utility ready for accessibility needs
- All spacing references tokens
- index.html loads layout.css in correct cascade order
</success_criteria>

<output>
After completion, create `.planning/phases/01-design-foundation/01-03-SUMMARY.md`
</output>
