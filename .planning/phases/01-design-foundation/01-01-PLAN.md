---
phase: 01-design-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - css/tokens.css
  - css/reset.css
  - index.html
  - css/visuals.css
autonomous: true

must_haves:
  truths:
    - "Opening the page shows correct off-black (#08090E) background, not the old blue-dark (#0a111c)"
    - "No trace of old HSL-component token pattern (--bg-900, --primary-accent, --glass-bg) remains in any loaded CSS"
    - "No pure black (#000) or pure white (#FFF/#fff/white/black) appears anywhere in tokens.css or reset.css"
    - "Body text renders in off-white (#F0F0F5) on off-black background"
  artifacts:
    - path: "css/tokens.css"
      provides: "Three-tier design token system (primitives + semantic)"
      contains: "--raw-bg-primary"
    - path: "css/reset.css"
      provides: "Box model reset, body styles, selection, reduced motion"
      contains: "box-sizing: border-box"
    - path: "index.html"
      provides: "Updated CSS links and Google Fonts URL"
      contains: "Instrument+Serif"
  key_links:
    - from: "css/reset.css"
      to: "css/tokens.css"
      via: "var() references to semantic tokens"
      pattern: "var\\(--color-"
    - from: "index.html"
      to: "css/tokens.css"
      via: "link rel=stylesheet"
      pattern: "href=\"css/tokens.css\""
---

<objective>
Create the design token system and CSS reset that form the foundation for every subsequent phase. Update index.html to load the new font stack and CSS files.

Purpose: Every future CSS file (typography, layout, components, sections) references these tokens. Getting this right means no magic numbers and no palette drift across 10 phases.
Output: css/tokens.css, css/reset.css, updated index.html head, deleted css/visuals.css
</objective>

<execution_context>
@C:\Users\User\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\User\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-design-foundation/01-RESEARCH.md

# Existing files that will be modified/replaced:
@css/main.css (first 47 lines contain old tokens -- reference for what to replace)
@index.html (head section lines 1-41 contain old font/CSS links)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create css/tokens.css with three-tier design token system</name>
  <files>css/tokens.css</files>
  <action>
Create `css/tokens.css` with all design tokens on `:root`. Organize into clearly commented sections:

**TIER 1: PRIMITIVES** (raw values, never used directly in components):
- Backgrounds: `--raw-bg-primary: #08090E`, `--raw-bg-surface: #0F1117`, `--raw-bg-subtle: #161820`
- Text: `--raw-text-primary: #F0F0F5`, `--raw-text-secondary: #9B9BA8`
- Accent: `--raw-accent: #635BFF`
- Accent text (AA-safe for body text): `--raw-accent-text: #7B75FF` (lightened for WCAG AA 4.5:1 against all backgrounds)
- Spacing base: `--raw-space-unit: 0.25rem` (4px)
- Radius: `--raw-radius-sm: 8px`, `--raw-radius-md: 12px`, `--raw-radius-lg: 16px`, `--raw-radius-xl: 20px`, `--raw-radius-pill: 999px`

**TIER 2: SEMANTIC** (purpose-named, what components use):
- Backgrounds: `--color-page: var(--raw-bg-primary)`, `--color-surface: var(--raw-bg-surface)`, `--color-surface-raised: var(--raw-bg-subtle)`
- Text: `--color-text: var(--raw-text-primary)`, `--color-text-muted: var(--raw-text-secondary)`
- Accent + derived: `--color-accent: var(--raw-accent)`, `--color-accent-text: var(--raw-accent-text)`, `--color-accent-hover: color-mix(in srgb, var(--raw-accent) 85%, white)`, `--color-accent-subtle: color-mix(in srgb, var(--raw-accent) 12%, transparent)`, `--color-accent-glow: color-mix(in srgb, var(--raw-accent) 20%, transparent)`
- Borders: `--color-border: rgba(255, 255, 255, 0.08)`, `--color-border-hover: color-mix(in srgb, var(--raw-accent) 40%, transparent)`
- Focus: `--color-focus-ring: var(--raw-accent)`
- Selection: `--color-selection-bg: color-mix(in srgb, var(--raw-accent) 35%, transparent)`, `--color-selection-text: var(--raw-text-primary)`
- Radius: `--radius-sm` through `--radius-pill` mapping to raw values
- Transitions: `--transition-smooth: all 0.38s cubic-bezier(0.23, 1, 0.32, 1)`, `--transition-soft: all 0.28s ease`

**TIER 3: COMPONENT** (placeholder section with comment "Component tokens added in Phase 2+")

**Spacing scale** (in the tokens file, semantic tier):
- `--space-1: 0.25rem` through `--space-24: 6rem` (using the numbered scale from research: 1, 2, 3, 4, 6, 8, 10, 12, 16, 20, 24)
- Fluid section spacing: `--space-section: clamp(4rem, 3rem + 3.5vw, 6.5rem)`, `--space-section-lg: clamp(5rem, 3.5rem + 4.5vw, 8rem)`

**Font size scale** (in the tokens file, semantic tier):
- `--fs-xs` through `--fs-hero` using the clamp() values from research

**Font families** (semantic tier):
- `--font-heading: 'Instrument Serif', Georgia, 'Times New Roman', serif`
- `--font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif`
- `--font-mono: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace`

Add a comment block at the very top:
```
/* ========================================
   DESIGN TOKENS - Vanguard Digital
   Three-tier system: Primitive > Semantic > Component

   RULES:
   - Components/sections use ONLY semantic (Tier 2) tokens
   - Primitives (Tier 1) are referenced only by semantic tokens
   - No #000, #FFF, #fff, white, or black anywhere
   - No magic numbers -- if a value isn't a token, it needs a token
   ======================================== */
```

Do NOT include any pure black (#000000) or pure white (#FFFFFF, #fff, white, black). All rgba() values with 255,255,255 are fine because they produce translucent white, not pure white.
  </action>
  <verify>
1. File exists at css/tokens.css
2. Contains `--raw-bg-primary: #08090E`
3. Contains `--color-page: var(--raw-bg-primary)`
4. Contains `--color-accent-text: var(--raw-accent-text)` (the AA-safe accent)
5. Does NOT contain `#000`, `#FFF`, `#fff`, `white`, or `black` as standalone color values
6. Contains `--space-section` with clamp()
7. Contains `--font-heading` with Instrument Serif
  </verify>
  <done>tokens.css exists with complete three-tier token system covering colors (5 backgrounds, 2 text, accent + 4 derived), borders, focus, selection, radius, transitions, spacing (11 fixed + 2 fluid), font sizes (7 fluid), and font families (3). Zero pure black/white values.</done>
</task>

<task type="auto">
  <name>Task 2: Create css/reset.css with box model reset and base element styles</name>
  <files>css/reset.css</files>
  <action>
Create `css/reset.css` with the following sections, using ONLY semantic token references (var(--color-*), var(--font-*), var(--fs-*)):

**Box model reset:**
```css
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
```

**HTML element:**
```css
html {
  font-size: 100%;
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}
```

**Body:** Use `var(--font-body)`, `var(--fs-base)`, `line-height: 1.65`, `color: var(--color-text)`, `background-color: var(--color-page)`, `overflow-x: hidden`. Do NOT add any `::before` or `::after` pseudo-elements on body (no gradient blobs, no noise texture -- DES-10).

**Links:** `color: inherit; text-decoration: none;`

**Images:** `max-width: 100%; display: block;`

**Lists:** `ul, ol { list-style: none; }`

**Scroll margin for anchors:** `[id] { scroll-margin-top: 6rem; }`

**Selection:** Use `var(--color-selection-text)` and `var(--color-selection-bg)`.

**Reduced motion:**
```css
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
```

Add a top comment: `/* CSS Reset - Vanguard Digital */`

Do NOT include any glassmorphism, gradient blobs, noise textures, or body pseudo-elements.
  </action>
  <verify>
1. File exists at css/reset.css
2. Contains `box-sizing: border-box`
3. Contains `background-color: var(--color-page)` on body
4. Contains `color: var(--color-text)` on body
5. Does NOT contain `::before` or `::after` on body
6. Does NOT contain `gradient`, `radial-gradient`, `noise`, or `backdrop-filter`
7. Contains `prefers-reduced-motion` media query
8. Does NOT contain any hex color values (all colors via var() references)
  </verify>
  <done>reset.css exists with box model reset, base element styles, selection styling, and reduced motion support. All colors reference semantic tokens. No glassmorphism, no gradient blobs, no noise textures.</done>
</task>

<task type="auto">
  <name>Task 3: Update index.html head and delete css/visuals.css</name>
  <files>index.html, css/visuals.css</files>
  <action>
**In index.html `<head>`:**

1. Replace the old Google Fonts `<link>` (loading Syne, Manrope, IBM Plex Mono) with the new one loading Instrument Serif, Inter, and JetBrains Mono. Keep the existing preconnect hints. The new URL:
```html
<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:opsz,wght@14..32,400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
```

2. Replace the CSS `<link>` tags. Change from:
```html
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/hero.css">
<link rel="stylesheet" href="css/bento.css">
<link rel="stylesheet" href="css/form.css">
```
To:
```html
<link rel="stylesheet" href="css/tokens.css">
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/hero.css">
<link rel="stylesheet" href="css/bento.css">
<link rel="stylesheet" href="css/form.css">
```
Note: tokens.css and reset.css are added BEFORE main.css so their tokens and resets are available to all subsequent files. The existing hero.css, bento.css, and form.css are kept for now (they will be gutted in later phases). main.css is kept but its token block at the top is now redundant (will be cleaned in a later phase once all sections have been migrated).

3. Update `<meta name="theme-color">` from `#0a111c` to `#08090E` (new page background color).

**Delete css/visuals.css:**
This file is orphaned (not referenced in any HTML `<link>` tag). Delete it entirely.
  </action>
  <verify>
1. index.html contains `Instrument+Serif` in a Google Fonts link
2. index.html does NOT contain `Syne` or `Manrope` in any font link
3. index.html contains `href="css/tokens.css"` before `href="css/main.css"`
4. index.html contains `href="css/reset.css"` after tokens.css and before main.css
5. index.html theme-color is `#08090E`
6. css/visuals.css does NOT exist (deleted)
  </verify>
  <done>index.html loads the new font stack (Instrument Serif + Inter + JetBrains Mono), references tokens.css and reset.css before existing CSS files, and uses the correct theme-color. css/visuals.css is deleted.</done>
</task>

</tasks>

<verification>
After all three tasks complete:
1. Open index.html in a browser -- page should show off-black background (#08090E)
2. Body text should render (likely broken styling from old main.css conflicts, but background and text color should be visible)
3. Inspect `:root` in DevTools -- all `--raw-*` and `--color-*` tokens should be defined
4. Search all new CSS files for `#000`, `#FFF`, `#fff`, `white`, `black` -- zero matches
5. css/visuals.css should not exist
</verification>

<success_criteria>
- tokens.css contains complete three-tier token system with zero magic numbers
- reset.css provides clean box model reset using only token references
- index.html loads new fonts and new CSS files in correct order
- No pure black or pure white in any new file
- No glassmorphism tokens, no gradient blobs, no HSL-component pattern
- visuals.css deleted
</success_criteria>

<output>
After completion, create `.planning/phases/01-design-foundation/01-01-SUMMARY.md`
</output>
